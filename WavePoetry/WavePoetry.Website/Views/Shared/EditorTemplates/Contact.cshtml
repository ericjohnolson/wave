@model WavePoetry.Model.Contact

<div class="tabbable">
    <ul class="nav nav-tabs">
        <li class="active"><a href="#tab1" data-toggle="tab">Details</a></li>
        <li><a href="#tabShipments" data-toggle="tab" id="shipments-link">Shipments</a></li>
        <li><a href="#tab2" data-toggle="tab" id="reviews-link">Reviews</a></li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane active" id="tab1">

            <fieldset>
                <legend>Details</legend>
                <div class="row">
                    <div class="span6">

                        <div class="editor-label">
                            First Name
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Firstname)
                            @Html.ValidationMessageFor(model => model.Firstname)
                        </div>
                        
                        <div class="editor-label">
                            Last Name
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Lastname)
                            @Html.ValidationMessageFor(model => model.Lastname)
                        </div>
                        
                        <div class="editor-label">
                            Categories
                        </div>
                        <div class="editor-field">
                            @Html.ListBoxFor(model => model.SelectedCats, Model.Cats, new { style = "height:100px" })
                        </div>

                        <div class="editor-label">
                            Phone(s)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Phone)
                            @Html.ValidationMessageFor(model => model.Phone)
                        </div>
                    </div>
                    <div class="span6">
                        <div class="editor-label">
                            @Html.LabelFor(model => model.Website)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Website)
                            @Html.ValidationMessageFor(model => model.Website)
                        </div>

                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Email1)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Email1)
                            @Html.ValidationMessageFor(model => model.Email1)
                        </div>
                        
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Email2)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Email2)
                            @Html.ValidationMessageFor(model => model.Email2)
                        </div>

                        <div class="editor-label">
                            Preferred Email
                        </div>
                        <div class="editor-field">
                            @Html.RadioButtonFor(model => model.Is_email1_primary, true) Primary 
                            @Html.RadioButtonFor(model => model.Is_email1_primary, false) Alternative
                        </div>

                        
                    </div>
                </div>
            </fieldset>
            <hr />
            <div class="row">
                <div class="span6">
                    <fieldset>
                        <legend>Address 1</legend>
                        
                        <div class="editor-label">
                            Is Primary
                        </div>
                        <div class="editor-field">
                            @Html.RadioButtonFor(model => model.Is_primary, true)
                        </div>
                        
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Title)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Title)
                            @Html.ValidationMessageFor(model => model.Title)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Organization)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Organization)
                            @Html.ValidationMessageFor(model => model.Organization)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Addressline1)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Addressline1)
                            @Html.ValidationMessageFor(model => model.Addressline1)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Addressline2)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Addressline2)
                            @Html.ValidationMessageFor(model => model.Addressline2)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.City)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.City)
                            @Html.ValidationMessageFor(model => model.City)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.State)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.State)
                            @Html.ValidationMessageFor(model => model.State)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Zip)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Zip)
                            @Html.ValidationMessageFor(model => model.Zip)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Country)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Country)
                            @Html.ValidationMessageFor(model => model.Country)
                        </div>

                        <div class="editor-label">
                            Is Bad
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Is_bad)
                            @Html.ValidationMessageFor(model => model.Is_bad)
                        </div>
                    </fieldset>
                </div>
                <div class="span6">
                    <fieldset>
                        <legend>Address 2</legend>
                        
                        <div class="editor-label">
                            Is Primary
                        </div>
                        <div class="editor-field">
                            @Html.RadioButtonFor(model => model.Is_primary, false)
                        </div>

                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Title_alt)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Title_alt)
                            @Html.ValidationMessageFor(model => model.Title_alt)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Organization_alt)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Organization_alt)
                            @Html.ValidationMessageFor(model => model.Organization_alt)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Addressline1_alt)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Addressline1_alt)
                            @Html.ValidationMessageFor(model => model.Addressline1_alt)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Addressline2_alt)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Addressline2_alt)
                            @Html.ValidationMessageFor(model => model.Addressline2_alt)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.City_alt)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.City_alt)
                            @Html.ValidationMessageFor(model => model.City_alt)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.State_alt)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.State_alt)
                            @Html.ValidationMessageFor(model => model.State_alt)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Zip_alt)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Zip_alt)
                            @Html.ValidationMessageFor(model => model.Zip_alt)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Country_alt)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Country_alt)
                            @Html.ValidationMessageFor(model => model.Country_alt)
                        </div>
                        <div class="editor-label">
                            Is Bad
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Is_bad_alt)
                            @Html.ValidationMessageFor(model => model.Is_bad_alt)
                        </div>
                    </fieldset>
                </div>
            </div>
            <hr />

            <fieldset>
                <legend>Shipments</legend>
                <div class="row">
                    <div class="span6">
                        
                        <div class="editor-label">
                            Galleys Always
                        </div>
                        <div class="editor-field">
                            @Html.RadioButtonFor(model => model.Galley_all, true) Yes 
                            @Html.RadioButtonFor(model => model.Galley_all, false) No
                        </div>
                        <div class="editor-label">
                            Galleys Possible
                        </div>
                        <div class="editor-field">
                            @Html.RadioButtonFor(model => model.Galley_pos, true) Yes 
                            @Html.RadioButtonFor(model => model.Galley_pos, false) No
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Galley_copies)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Galley_copies)
                            @Html.ValidationMessageFor(model => model.Galley_copies)
                        </div>
                        
                        <div class="editor-label">
                            Reviews Always
                        </div>
                        <div class="editor-field">
                            @Html.RadioButtonFor(model => model.Review_all, true) Yes 
                            @Html.RadioButtonFor(model => model.Review_all, false) No
                        </div>
                        <div class="editor-label">
                            Reviews Possible
                        </div>
                        <div class="editor-field">
                            @Html.RadioButtonFor(model => model.Review_pos, true) Yes 
                            @Html.RadioButtonFor(model => model.Review_pos, false) No
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Review_copies)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Review_copies)
                            @Html.ValidationMessageFor(model => model.Review_copies)
                        </div>
                        
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Sub_number)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Sub_number)
                            @Html.ValidationMessageFor(model => model.Sub_number)
                        </div>
                        
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Sub_type)
                        </div>
                        <div class="editor-field">
                            @Html.DropDownListFor(model => model.Sub_type, Model.SubTypes, new { @class = "tst" })
                            @Html.ValidationMessageFor(model => model.Sub_type)
                        </div> 
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Is_subscriber)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Is_subscriber)
                            @Html.ValidationMessageFor(model => model.Is_subscriber)
                        </div>

                    </div>
                    <div class="span6">
                        
                        <div class="editor-label">
                            Desk Always
                        </div>
                        <div class="editor-field">
                            @Html.RadioButtonFor(model => model.Desk_all, true) Yes 
                            @Html.RadioButtonFor(model => model.Desk_all, false) No
                        </div>
                        <div class="editor-label">
                            Desk Possible
                        </div>
                        <div class="editor-field">
                            @Html.RadioButtonFor(model => model.Desk_pos, true) Yes 
                            @Html.RadioButtonFor(model => model.Desk_pos, false) No
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Desk_copies)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Desk_copies)
                            @Html.ValidationMessageFor(model => model.Desk_copies)
                        </div>
                        <div class="editor-label">
                            Comps Always
                        </div>
                        <div class="editor-field">
                            @Html.RadioButtonFor(model => model.Comp_all, true) Yes 
                            @Html.RadioButtonFor(model => model.Comp_all, false) No
                        </div>
                        <div class="editor-label">
                            Comps Possible
                        </div>
                        <div class="editor-field">
                            @Html.RadioButtonFor(model => model.Comp_pos, true) Yes 
                            @Html.RadioButtonFor(model => model.Comp_pos, false) No
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Comp_copies)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Comp_copies)
                            @Html.ValidationMessageFor(model => model.Comp_copies)
                        </div>

                        
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Sub_startdate)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Sub_startdate)
                            @Html.ValidationMessageFor(model => model.Sub_startdate)
                        </div>
                        <div class="editor-label">
                            @Html.DisplayNameFor(model => model.Sub_enddate)
                        </div>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Sub_enddate)
                            @Html.ValidationMessageFor(model => model.Sub_enddate)
                        </div>

                    </div>
                </div>
            </fieldset>

            <hr />
            <fieldset>
                <legend>Notes</legend>
                <div class="row">
                    <div class="span12">
                        <div class="editor-field">
                            @Html.TextAreaFor(model => model.Notes)
                            @Html.ValidationMessageFor(model => model.Notes)
                        </div>
                    </div>
                </div>
            </fieldset>

            <div class="form-actions">
                <div class=" pull-right">
                    <a href="/Contact/Index/" class="btn">Cancel</a>
                    <button class="btn btn-primary" name="cmdSave" type="submit">Save</button>
                </div>
            </div>

        </div>
        <div class="tab-pane" id="tabShipments">

             @if (Model.Shipments != null && Model.Shipments.Count() > 0)
             {
                <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed" id="shipmentsTable" style="font-size: 0.8em;">
                    <thead>
                        <tr>
                            <td>Title</td>
                            <td>Type</td>
                            <td>Quantity</td>
                            <td>Status</td>
                            <td>Date Sent</td>
                            <td>Follow Up</td>
                            <td>Date Created</td>
                            <td></td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var shipment in Model.Shipments)
                        {
                            <tr>
                                <td><a href="/Title/Edit/@shipment.TitleId">@shipment.TitleName</a></td>
                                <td>@shipment.Type</td>
                                <td>@shipment.Quantity</td>
                                <td>@shipment.Status</td>
                                <td>@shipment.DateSent</td>
                                <td>@shipment.FollowUpText</td>
                                <td>@shipment.DateCreated.ToString("MM/dd/yyyy")</td>
                                <td><a href="/Shipment/Edit/@shipment.Id?contact=@Model.Id">View/Edit</a></td>
                            </tr>
                        }

                    </tbody>
                </table>
             }
            else
            {
                <p>There are no shipments for this contact.</p>
            }
            
            <hr />
            <p style="text-align:right;"><a href="/Shipment/Create?contact=@Model.Id" class="btn btn-primary">Add Shipment</a></p>
        </div>
        <div class="tab-pane" id="tab2">
            @if (Model.Reviews != null && Model.Reviews.Count() > 0)
            {
                <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-condensed" id="reviewsTable" style="font-size: 0.8em;">
                    <thead>
                        <tr>
                            <td>Title</td>
                            <td>Review Date</td>
                            <td></td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var review in Model.Reviews)
                        {
                            <tr>
                                <td><a href="/Title/Edit/@review.TitleId">@review.TitleName</a></td>
                                <td>@review.DateReviewed.ToString("MM/dd/yyyy")</td>
                                <td><a href="/Review/Edit/@review.Id?contact=@Model.Id">View/Edit</a></td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <p>There are no reviews for this contact.</p>
            }
            
            <hr />
            <p style="text-align:right;"><a href="/Review/Create?contact=@Model.Id" class="btn btn-primary">Add Review</a></p>
        </div>
    </div>
</div>

<script>

    $(document).ready(function () {
        // Init items
        $('#Sub_startdate').datepicker();
        $('#Sub_enddate').datepicker();
        $("#Notes").addClass("input-xxlarge");

        $('#shipmentsTable').dataTable({
            "aoColumns": [
                null,
                null,
                null,
                null,
                null,
                null,
                null,
                null
            ],
            "sDom": "<'row'<'span6'l><'span6'f>r>t<'row'<'span6'i><'span6'p>>",
            "sPaginationType": "bootstrap",
            "oLanguage": {
                "sLengthMenu": "_MENU_ records per page"
            },
            "aaSorting": [[3, 'asc']],
            "iDisplayLength": 25,
        });

        $('#reviewsTable').dataTable({
            "aoColumns": [
                null,
                null,
                null
            ],
            "sDom": "<'row'<'span6'l><'span6'f>r>t<'row'<'span6'i><'span6'p>>",
            "sPaginationType": "bootstrap",
            "oLanguage": {
                "sLengthMenu": "_MENU_ records per page"
            },
            "aaSorting": [[1, 'desc']],
            "iDisplayLength": 25,
        });
    });

</script>
